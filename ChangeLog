2003-05-02  Gustavo Giraldez  <gustavo.giraldez@gmx.net>

	New GtkSourceView widget by Paolo Maggi and Gustavo Gir√°ldez.

	* API has been completely revised
	* New language and manager objects to set regular expressions for
	  syntax highlighting from XML files
	* New improved highlighting engine
	* Rewritten test application which demonstrates most important features
	* Markers API have been redesigned
	* Text style schemes for highlighted elements
	* The view can draw a vertical line indicating a right margin
	* Smart HOME/END keys move to the first/last character in the line
	  before moving to the real begin/end (patch by Jeroen Zwartepoorte)
	* Auto indentation support
	
2003-04-15  Christian Neumair  <chris@gnome-de.org>

	* configure.in: Changed AC_PROG_LIBTOOL macro to AM_PROG_LIBTOOL.

2003-01-05  Jeroen Zwartepoorte  <jeroen@xs4all.nl>

	* src/gtksourcebuffer.c: (check_syntax),
	(gtk_source_buffer_regex_search), (gtk_source_buffer_regex_match):
	Really fix the highlighting code this time. Uses
	g_utf8_offset_to_pointer and g_utf8_pointer_to_offset to convert
	between character offset and byte offset required for the regex methods.
	Patch by Gustavo.

2003-01-04  Jeroen Zwartepoorte  <jeroen@xs4all.nl>

	* src/gtksourcebuffer.c: (check_syntax), (check_pattern),
	(gtk_source_buffer_regex_search): Work around a bug in the re_search
	method where it returns the number of bytes matched instead of the
	number of characters matched (rh bugzilla #73644). UTF8 text is now
	highlighted properly.

2003-01-02  Gustavo Giraldez  <gustavo.giraldez@gmx.net>

	* autogen.sh: Changed to standard gnome2 autogen.sh 
	* ltmain.sh: Removed, since it's installed by libtoolize.
	* configure.in: Updated required Gtk+ version.
	* src/Makefile.am: Added gtktextregion.[ch] and testregion test
	program
	* src/gtktextregion.h, src/gtktextregion.c: New files for doing
	text region operations in a GtkTextBuffer.
	* src/testregion.c: Test program for GtkTextRegion.
	* src/gtksourcebuffer.c (idle_refresh_handler, refresh_range,
	gtk_source_buffer_highligth_region) Implemented incremental
	highlighting
	(check_pattern): Changed iteration strategy from trying to match
	each character with each pattern, to, for each pattern search the
	whole region for a match (thus making use of the compiled regex
	fastmap)
	(get_tag_start): Use faster gtk_text_backward_to_tag_toggle
	instead of interating with a while loop.
	(get_tag_end): Idem.
	* src/gtksourcebuffer.h: New prototype
	gtk_source_buffer_highlight_region.
	* src/gtksourceview.c: Changed expose handler from a signal hook
	to a virtual override in the class.  Expose also now handles the
	highlighting of the region that's about to be drawn.
	(gtk_source_view_paint_margin): New function: separated left
	margin painting from the expose handler.
	* src/test-widget.c: Set a monospaced font instead of using the
	default theme font.
	
2002-09-22  Jeroen Zwartepoorte  <jeroen@xs4all.nl>

	* src/gtksourcebuffer.h:
	* src/gtksourcetag.h:
	* src/gtksourceview.h:
	* src/gtktextsearch.h:
	* src/gtkundomanager.h:

	Use G_BEGIN_DECLS & G_END_DECLS instead of #ifdef __cplusplus.

2002-07-13  Jeroen Zwartepoorte  <jeroen@xs4all.nl>

	* configure.in: Treat warnings as errors.
	* src/Makefile.am: Removed regex.[ch]. Old version, use distro instead.
	* src/gtksourcebuffer.c: (read_loop):
	* src/gtksourcetag.c:
	* src/gtksourceview.c: (gtk_source_view_expose),
	(gtk_source_view_new):
	* src/gtktextsearch.c: (gtk_text_search_finalize):
	* src/regex.c: Removed.
	* src/regex.h: Removed.
	* src/test-widget.c:

	Fix all warnings.

2002-07-13  Jeroen Zwartepoorte  <jeroen@xs4all.nl>

	* src/test-widget.c: (test_source): Fix test-widget segfault.

2002-07-12  Jeroen Zwartepoorte  <jeroen@xs4all.nl>

	* aclocal.m4: Obsolete.
	* src/gtksourcebuffer.c: (check_embedded): Fix unitialized GtkTextIter.
	* src/gtksourcetag.c: (gtk_embedded_tag_new): Fix correct instance type.

2002-07-12  JP Rosevear  <jpr@ximian.com>

	* src/gtktextsearch.h: remove extraneous characters

2002-07-11  Jeroen Zwartepoorte  <jeroen@xs4all.nl>

	* src/test-widget.c: (test_source): Fix method call.

2002-07-04  Mikael Hermansson  <tyan@linux.se>

	* src/gtksourcebuffer.[c/h] (gtk_source_buffer_[load/save]_*),
	code cleanup and improved error handling using GError.

2002-05-22  Mikael Hermansson  <tyan@linux.se>

	* src/gtksourcebuffer.c: (gtk_source_buffer_real_delete_range), 
	fix bug that made it impossible to remove syntax embended text. 
	(reported by Mario Motta <mmotta@guest.net>)

2002-03-31  Jeroen Zwartepoorte  <jeroen@xs4all.nl>

	* src/gtksourcebuffer.c: (gtk_source_buffer_get_undo_levels),
	(gtk_source_buffer_set_undo_levels): Add undo_levels property.
	* src/gtksourcebuffer.h: Idem.
	* src/gtksourceview.c: (gtk_source_view_expose),
	(gtk_source_view_set_show_line_numbers),
	(gtk_source_view_set_show_line_pixmaps): Fix bug where margin would
	still be visible even though both the line numbers & pixmaps were off.
	* src/gtkundomanager.c: (gtk_undo_manager_get_undo_levels),
	(gtk_undo_manager_set_undo_levels): Add undo_levels property.
	* src/gtkundomanager.h: Idem.
	* src/test-widget.c: (cb_line_numbers_toggle), (main): Add button for
	showing/hiding the line numbers margin.

2002-03-30  Johan Dahlin  <jdahlin@telia.com>

	* src/Makefile.am: Make sure $(BUILD_SOURCES) is built before trying
	to compile other things. Fixes build in automake-1.5 or higher.

2002-03-22  Jeroen Zwartepoorte  <jeroen@xs4all.nl>

	* src/gtksourcebuffer.c: (add_marker), (add_markers),
	(gtk_source_buffer_line_remove_markers),
	(gtk_source_buffer_get_all_markers): Added
	gtk_source_buffer_get_all_markers method.
	* src/gtksourcebuffer.h: Idem.

2002-03-15  Jeroen Zwartepoorte  <jeroen@xs4all.nl>

	* aclocal.m4: Newer glib version.
	* configure.in: Added libgnome dependency (i18n).
	* src/Makefile.am: Added new files.
	* src/gtksourcebuffer.c: Cleanup, implemented support for new undo
	manager.
	* src/gtksourcebuffer.h: Idem.
	* src/gtksourceview-marshal.list: Added marshal type for undo/redo
	events.
	* src/gtksourceview.c: (gtk_source_view_populate_popup): Updated to work
	with the new undo API.
	* src/gtkundomanager.c: New GtkUndoManager, copied from gedit.
	* src/gtkundomanager.h: Idem.

2002-02-11  Mikael Hermansson  <tyan@linux.se>

	* gtksourceview.c: remove compile warnings.
	* test-widget.c: remove compile warnings.

2002-02-11  Mikael Hermansson  <tyan@linux.se>

	* ChangeLog: fixed my ugly comments and make it more emacs compatible :-)

2002-03-10  Mikael Hermansson  <tyan@linux.se>

	* gtksourcebuffer.[c/h] (gtk_source_buffer_update_info): 
	This function will reread file stat() from disc and update 
	GtkSourceBufferInfo structure.
	(update_buffer_info): Fixed so it doesn't read file stat() when 
	getstat == FALSE

2002-03-06  Mikael Hermansson  <tyan@linux.se>

	* gtktextsearch.[c/h]: This is a new object class for searching in the 
	buffer. Hopefully this API will work better than the old 
	gtk_text_iter_forward_search implementation :-) 

	* Makefile.am: added gtktextsearch.[c/h] to sources list

2002-02-11  Mikael Hermansson  <tyan@linux.se>

	* gtksourcebuffer.c:  remove all compile warnings. 
	(gtk_source_buffer_set_filename): Should not g_strdup/g_free 
	if passed filename == info->filename just return from without change.

2002-02-09  Mikael Hermansson  <tyan@linux.se>

	* gtksourcebuffer.c/h (gtk_source_buffer_get_filename): 
	Allocate a new filename string instead of return const char*
 	user should g_free it after use. 
 	(gtk_source_buffer_save/load): Now will set "modifed" flag to 
	FALSE after load/save success has been completed...

2002-03-07  Jeroen Zwartepoorte  <jeroen@xs4all.nl>

	* src/gtksourceview.c: (gtk_source_view_calculate_tab_stop_width): Fix
	tab width calculation (finish string by adding a '\0' character).

2001-12-30  Mikael Hermansson  <tyan@linux.se>

	* gtksourcebuffer.c: (in move_cursor): Make sure 
	gtk_source_buffer_find_bracket_match() is only called if 
	check_brackets == TRUE

Sat Feb  09 05:41:59 2002 CET Mikael Hermansson  <tyan@linux.se>

	* gtksourcebuffer.[c/h] added new API: 
	gtk_source_buffer_save[_with_character_encoding]()
	gtk_source_buffer_load[_with_character_encoding](),
	gtk_source_buffer_set_filename(),
	gtk_source_buffer_get_filename(),
	gtk_source_buffer_get_info(): GtkSourceBufferInfo structure holds 
	file-/buffer status.

2002-02-06  Jeroen Zwartepoorte  <jeroen@xs4all.nl>

	* src/gtksourceview.c: (gtk_source_view_calculate_tab_stop_width):
	Immediately return 0 if tab_stop if also 0, otherwise a pango warning
	about an invalid UTF-8 string will be displayed.

2002-02-05  Jeroen Zwartepoorte  <jeroen@xs4all.nl>

	* aclocal.m4: Updated by auto* programs.
	* src/gtksourceview.c: (gtk_source_view_class_init),
	(gtk_source_view_init), (gtk_source_view_finalize),
	(gtk_source_view_pixbuf_foreach_unref), (gtk_source_view_undo),
	(gtk_source_view_redo), (gtk_source_view_populate_popup),
	(menuitem_activate_cb), (gtk_source_view_get_line_marker),
	(gtk_source_view_draw_line_markers), (gtk_source_view_get_lines),
	(gtk_source_view_expose),
	(gtk_source_view_calculate_tab_stop_width), (gtk_source_view_new),
	(gtk_source_view_new_with_buffer), (gtk_source_view_get_type),
	(gtk_source_view_get_show_line_numbers),
	(gtk_source_view_set_show_line_numbers),
	(gtk_source_view_get_show_line_pixmaps),
	(gtk_source_view_set_show_line_pixmaps),
	(gtk_source_view_get_tab_stop), (gtk_source_view_set_tab_stop),
	(gtk_source_view_get_tab_stop_width), (gtk_source_view_add_pixbuf),
	(gtk_source_view_get_pixbuf): Rewrote line numbering code. Now works
	the same way as in gedit2. The left margin no longer resizes when you
	just enter blank lines. It is also now possible to hide the line numbers,
	while keeping the line pixmaps. Some methods which weren't being used
	removed and overall cleanup. Problem of not displaying a line number
	for the last (empty) line is also fixed.

Sat Jan 26 10:50:43 AM PST 2002 Chris Phelps <chicane@reninet.com>
	* all:
	  indent all code with: '-bad -br -brs -ce -l100 -lp -psl -saf -sai -saw -i8'
	* src/gtksourcebuffer.c:
	  (real_insert_text) fix invalidated TextIter when no highlighting style is set.

2001-12-30  Dave Camp  <dave@ximian.com>

	* src/gtksourceview.c (get_line_marker): Pass an overall_alpha of 
	255 to gdk_pixbuf_composite() instead of 127.

	* src/gtksourcebuffer.c (gtk_source_buffer_line_remove_marker): Removed the extraneous list destruction and hashtable removal at the end of the function.  Removing a marker no longer removes all markers.

Sun Dec  30 10:40:08 2001 CET Mikael Hermansson  <tyan@linux.se>

  * gtksourcebuffer.c: 
     - get rid of connect_[before/after] signals on "insert/delete" callbacks.
        Now the sourcebuffer is  virtually overidding the default insert_text/delete_range handlers.
  * gtksourceview.c:
      - adding Undo/Redo to popupmenu

Mon Dec  17 06:38:30 2001 CET Mikael Hermansson  <tyan@linux.se>

  * gtksourceview.[c/h] changed GtkSourceView->delete to delete_range.

2001-12-15  Dave Camp  <dave@ximian.com>

	* src/gtksourceview.c (get_line_marker): New function.
	(draw_line_markers): New function.
	(gtk_source_view_expose): Rewritten to be a bit clearer, and to not add one to marker line numbers.
	(get_lines): Removed.
	* src/gtksourcebuffer.c (gtk_source_buffer_line_add_marker): Changed line < line_number to line_number > line (the off-by-one is on purpose) and make it a g_return_if_fail()
	(gtk_source_buffer_line_set_marker): Ditto.

Tue Dec 11 04:48:45 PM PST 2001 Chris Phelps <chicane@reninet.com>
    * gtksourceview.c: remove some deprecated calls to gdk_string_width() with pango_layout action.

Mon Dec 10 04:58:22 PM PST 2001 Chris Phelps <chicane@reninet.com>
    * Modified gtksourcebuffer line marker api to allow for multiple markers per line.
    * Added a a few new marker related functions for convenience purposes and completeness
    * Update gtksourceview to deal with multiple markers per line (composite pixbufs)

2001-12-09  Dave Camp  <dave@ximian.com>

	* src/gtksourcebuffer.h: Fixed a broken comment.

Sat Dec  08 03:46:47 2001 CET Mikael Hermansson  <tyan@linux.se>

  * Hmm It's time to start contribute to my old project again. Nothing new so far except I have changed ISP provider and my new email is tyan@linux.se.
    Maybe I have some old/new stuff in my local source repository (at http://tyan.homeip.net) but it looks like like Chris has already done some good stuff :-)  

Thu Dec 06 02:25:29 AM PST 2001 Chris Phelps <chicane@reninet.com>
   * split the line pixmap code up between the view and buffer implementations.
     you can now have multiple views of a buffer that will show different pixmaps,
     but in the same places...unneeded flexibility, but I thought it was a good idea.
     (It was Dave Camp's)

Thu Dec 06 01:14:40 AM PST 2001 Chris Phelps <chicane@reninet.com>
   * Fixed a bug in the line number drawing code to allow for drawing the line number
     on the final line of the view even if it is empty.

Thu Dec 06 01:13:42 AM PST 2001 Chris Phelps <chicane@reninet.com>
   * I have resurected this module and put it to use in Glimmer, and 
     Dave Camp is playing with it in Dryad as a test bed for gnome-debug

Sat Feb 17  13:19:53 2001 CET Mikael Hermansson<mikeh@bahnhof.se>

* Realesing 0.0.3

Sat Feb 17  13:03:59 2001 CET Mikael Hermansson  <mikeh@bahnhof.se>

  * gtktextview.c bugfixes in find_correct_bracket/key_press_event code that made 
  the bracket sometime show up incorrectly in line.

Sat Feb 17  02:19:27 2001 CET Mikael Hermansson  <mikeh@bahnhof.se>

  * gtksourceview.c if source_view->auto_indent = TRUE the keypress implementation 
    will automatic inserting whitespaces before/after on operator characters like [=<>!], comma [,] 
    and begin parantes[(]. This is hardcoded values and will probadly only work on
    C/C++/Java/python or similar programing languages syntax.

Fri Feb 16  23:56:46 2001 CET Mikael Hermansson  <mikeh@bahnhof.se>

  * test.c cb_convert() replaced creat/write functions with fopen family instead

  * gtksourceview.c killed some warnings, fixed bug in gtk_source_view_set_show_line_numbers() 
    that made the widget show line numbers even if you set it to FALSE. 

Mon Feb 12  18:17:56 2001 CET Mikael Hermansson  <mikeh@bahnhof.se>

  * Implemented gtk_source_buffer_convert_to_html the name says what it does :-)

Mon Feb 05  20:27:21 2001 CET Mikael Hermansson  <mikeh@bahnhof.se>

  * gtksourceview./gtksourcebuffer.[c/h]start implement undo/redo

Sun Feb 04  14:38:10 2001 CET Mikael Hermansson  <mikeh@bahnhof.se>

  * configure.in -> 0.0.2cvs

Sun Feb 04  14:35:47 2001 CET Mikael Hermansson  <mikeh@bahnhof.se>

  * releasing GtkSourceView 0.0.2

Sun Feb 04  14:17:03 2001 CET Mikael Hermansson  <mikeh@bahnhof.se>

  * gtksourceview.[c/h] implemented auto indent. Two new functions added:
    gtk_source_view_[set/get]_auto_indent()

Sun Jan 21  15:11:17 2001 CET Mikael Hermansson  <mikeh@bahnhof.se>

  * gtksourcebuffer.c fixed bug in find_bracket_match that made the buffer hang.
   also renamed it to gtk_source_buffer_find_bracket_match and made it public API

Tue Jan 16  18:13:44 2001 CET Mikael Hermansson  <mikeh@bahnhof.se>

  * releasing 0.0.1 of GtkSourceView:
    A new syntax higlight widget that supports GtkTextView upcoming Gtk 2.0.Mon Dec 17  06:38:30 2001 CET Mikael Hermansson<tyan@linux.se>

  * gtksourceview.[c/h] changed GtkSourceView->delete to delete_range.

Tue Dec 11 04:48:45 PM PST 2001 Chris Phelps <chicane@reninet.com>
    * gtksourceview.c: remove some deprecated calls to gdk_string_width() with pango_layout action.

Mon Dec 10 04:58:22 PM PST 2001 Chris Phelps <chicane@reninet.com>
    * Modified gtksourcebuffer line marker api to allow for multiple markers per line.
    * Added a a few new marker related functions for convenience purposes and completeness
    * Update gtksourceview to deal with multiple markers per line (composite pixbufs)

2001-12-09  Dave Camp  <dave@ximian.com>

	* src/gtksourcebuffer.h: Fixed a broken comment.

Sat Dec 08  03:46:47 2001 CET Mikael Hermansson  <tyan@linux.se>

  * Hmm It's time to start contribute to my old project again. Nothing new so far except I have changed ISP provider and my new email is tyan@linux.se.
    Maybe I have some old/new stuff in my local source repository (at http://tyan.homeip.net) but it looks like like Chris has already done some good stuff :-)  

Thu Dec 06 02:25:29 AM PST 2001 Chris Phelps <chicane@reninet.com>
   * split the line pixmap code up between the view and buffer implementations.
     you can now have multiple views of a buffer that will show different pixmaps,
     but in the same places...unneeded flexibility, but I thought it was a good idea.
     (It was Dave Camp's)

Thu Dec 06 01:14:40 AM PST 2001 Chris Phelps <chicane@reninet.com>
   * Fixed a bug in the line number drawing code to allow for drawing the line number
     on the final line of the view even if it is empty.

Thu Dec 06 01:13:42 AM PST 2001 Chris Phelps <chicane@reninet.com>
   * I have resurected this module and put it to use in Glimmer, and 
     Dave Camp is playing with it in Dryad as a test bed for gnome-debug

Sat Feb 17  13:19:53 2001 CET Mikael Hermansson  <mikeh@bahnhof.se>

* Realesing 0.0.3

Sat Feb 17  13:03:59 2001 CET Mikael Hermansson  <mikeh@bahnhof.se>

  * gtktextview.c bugfixes in find_correct_bracket/key_press_event code that made 
  the bracket sometime show up incorrectly in line.

Sat Feb 17  02:19:27 2001 CET Mikael Hermansson  <mikeh@bahnhof.se>

  * gtksourceview.c if source_view->auto_indent = TRUE the keypress implementation 
    will automatic inserting whitespaces before/after on operator characters like [=<>!], comma [,] 
    and begin parantes[(]. This is hardcoded values and will probadly only work on
    C/C++/Java/python or similar programing languages syntax.

Fri Feb 16  23:56:46 2001 CET Mikael Hermansson  <mikeh@bahnhof.se>

  * test.c cb_convert() replaced creat/write functions with fopen family instead

  * gtksourceview.c killed some warnings, fixed bug in gtk_source_view_set_show_line_numbers() 
    that made the widget show line numbers even if you set it to FALSE. 

Mon Feb 12  18:17:56 2001 CET Mikael Hermansson  <mikeh@bahnhof.se>

  * Implemented gtk_source_buffer_convert_to_html the name says what it does :-)

Mon Feb 05  20:27:21 2001 CET Mikael Hermansson  <mikeh@bahnhof.se>

  * gtksourceview./gtksourcebuffer.[c/h]start implement undo/redo

Sun Feb 04  14:38:10 2001 CET Mikael Hermansson  <mikeh@bahnhof.se>

  * configure.in -> 0.0.2cvs

Sun Feb 04  14:35:47 2001 CET Mikael Hermansson  <mikeh@bahnhof.se>

  * releasing GtkSourceView 0.0.2

Sun Feb 04  14:17:03 2001 CET Mikael Hermansson  <mikeh@bahnhof.se>

  * gtksourceview.[c/h] implemented auto indent. Two new functions added:
    gtk_source_view_[set/get]_auto_indent()

Sun Jan 21  15:11:17 2001 CET Mikael Hermansson<mikeh@bahnhof.se>

  * gtksourcebuffer.c fixed bug in find_bracket_match that made the buffer hang.
   also renamed it to gtk_source_buffer_find_bracket_match and made it public API

Tue Jan 16  18:13:44 2001 CET Mikael Hermansson  <mikeh@bahnhof.se>

  * releasing 0.0.1 of GtkSourceView:
    A new syntax higlight widget that supports GtkTextView upcoming Gtk 2.0.
